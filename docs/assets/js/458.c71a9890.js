(self.webpackChunkunicom=self.webpackChunkunicom||[]).push([[458],{362:e=>{e.exports={assetsURL:"/assets/"}},5458:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>Ze});var r=n(7294),o=(n(3935),n(9250)),i=(n(362),n(310)),a=n(9775),l=n(3906),u=n(9655),s=n(3720),c=n(4386),f=n(6867),p=n(326),m=n(2895),y=n(4563),h=n(1947),d=n(3797),b=n(7720),g=n(9062),E=n(7109),v=n(3540),Z=n(8885),w=n(5398),P=n(576),O=n(9334),C=n(2440),x=n(8333),S=n(7120),k=n(6448),j=n(461),I=n(7547),M=n(7709),L=n(407),F=n(5150);function R(e){return R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},R(e)}function _(){return _=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_.apply(this,arguments)}function A(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==R(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==R(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===R(o)?o:String(o)),r)}var o}function B(e,t){return B=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},B(e,t)}function T(e){return T=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},T(e)}var U=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&B(e,t)}(U,e);var t,n,o,a,_=(o=U,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=T(o);if(a){var n=T(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===R(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function U(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,U),(t=_.call(this,e)).state={usuarioMenuOpen:!1},t.usuarioMenuRef=r.createRef(),t}return t=U,(n=[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this;return r.createElement(s.Z,{position:"static",sx:{background:"black"}},r.createElement(c.Z,{sx:{display:"flex",justifyContent:"space-between",gap:"10px"}},r.createElement(f.Z,{size:"large",edge:"start",color:"inherit","aria-label":"menu",sx:{mr:2},onClick:this.props.toggleMenu},r.createElement(p.Z,null)),r.createElement(l.Z,{sx:{display:"flex",flexGrow:1,justifyContent:"left",alignItems:"center",gap:"10px","&:hover":{cursor:"pointer"}},onClick:function(){}},r.createElement(u.rU,{to:"/"},r.createElement("img",{style:{width:"auto",height:"24px"},src:"/assets/image/UniSystem_Logo.png"}))),null!==this.props.usuario&&this.props.usuario.permissaoList.includes("Iframe.Read.All")&&this.props.location.pathname.startsWith("/i/")?r.createElement(r.Fragment,null,r.createElement(y.Z,{title:"Recarregar"},r.createElement("span",null,r.createElement(f.Z,{sx:{color:"#FFFFFF"},onClick:function(){document.querySelector(".currentIframe").src+=""}},r.createElement(m.Z,null,"refresh")))),r.createElement(y.Z,{title:"Abrir em nova aba"},r.createElement("span",null,r.createElement(f.Z,{sx:{color:"#FFFFFF"},onClick:function(){window.open(document.querySelector(".currentIframe").src,"_blank")}},r.createElement(m.Z,null,"open_in_new")))),r.createElement(b.Z,{orientation:"vertical",variant:"middle",flexItem:!0})):"",r.createElement(y.Z,{title:"Imprimir"},r.createElement("span",null,r.createElement(f.Z,{sx:{color:"#FFFFFF"},onClick:function(){window.print()}},r.createElement(m.Z,null,"printer")))),r.createElement(y.Z,{title:"Tela cheia"},r.createElement("span",null,r.createElement(f.Z,{sx:{color:"#FFFFFF"},onClick:function(){return e.props.toggleFullscreen()}},r.createElement(m.Z,null,this.props.fullscreen?"fullscreen_exit":"fullscreen")))),r.createElement(j.Z,{clickable:!0,avatar:r.createElement(E.Z,{src:null!==this.props.usuario?i.Z.defaults.baseURL+"/usuario/"+this.props.usuario.usuarioId+"/foto-perfil?versao="+this.props.usuario.fotoPerfilVersao:""},null!==this.props.usuario?this.props.usuario.nome.charAt(0):"?"),label:null!==this.props.usuario?this.props.usuario.nome:"...",ref:this.usuarioMenuRef,onClick:function(){return e.setState({usuarioMenuOpen:!e.props.usuarioMenuOpen})}}),r.createElement(h.Z,{anchorEl:this.usuarioMenuRef.current,open:this.state.usuarioMenuOpen,onClose:function(){return e.setState({usuarioMenuOpen:!1})},anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},PaperProps:{sx:{width:"auto"}}},r.createElement(d.Z,{sx:{padding:0}},null!==this.props.usuario?r.createElement(C.Z,{disablePadding:!0,dense:!0},r.createElement(P.ZP,null,r.createElement(Z.Z,null,r.createElement(x.Z,null)),r.createElement(O.Z,{primary:this.props.usuario.empresa.nome})),r.createElement(P.ZP,null,r.createElement(Z.Z,null,r.createElement(w.Z,null)),r.createElement(O.Z,{primary:this.props.usuario.nome,secondary:null!==this.props.usuario.matricula?"#"+this.props.usuario.matricula:""})),r.createElement(P.ZP,null,r.createElement(Z.Z,null,r.createElement(k.Z,null)),r.createElement(O.Z,{primary:this.props.usuario.email})),r.createElement(P.ZP,null,r.createElement(Z.Z,null,r.createElement(I.Z,null)),r.createElement(O.Z,{primary:null!==this.props.usuario.departamento?this.props.usuario.departamento.nome:""})),r.createElement(P.ZP,null,r.createElement(Z.Z,null,r.createElement(S.Z,null)),r.createElement(O.Z,{primary:null!==this.props.usuario.cargo?this.props.usuario.cargo.nome:""})),r.createElement(P.ZP,null,r.createElement(Z.Z,null,r.createElement(M.Z,null)),r.createElement(O.Z,{primaryTypographyProps:{style:{whiteSpace:"normal"}},primary:this.props.usuario.papelList.map((function(e){return r.createElement("div",{key:e.papelId},e.nome)}))}))):r.createElement(l.Z,{width:"100%",display:"flex",justifyContent:"center"},r.createElement(g.Z,null))),r.createElement(b.Z,null),r.createElement(d.Z,{onClick:this.props.requestNotificationsPermission,disabled:1==this.props.notificationsGranted},r.createElement(Z.Z,null,1==this.props.notificationsGranted?r.createElement(F.Z,{fontSize:"small"}):r.createElement(L.Z,{fontSize:"small"})),1==this.props.notificationsGranted?"Notificações ativadas":"Ativar notificações"),r.createElement(d.Z,{onClick:function(){var e={body:"Interaja com o sistema para  confirmar que está presente!",vibrate:[300,100,400],requireInteraction:!0};navigator.serviceWorker.ready.then((function(t){t.showNotification("Interação Requisitada",e)}))}},r.createElement(Z.Z,null,r.createElement(F.Z,{fontSize:"small"})),"Testar notificação"),r.createElement(b.Z,null),r.createElement(d.Z,{onClick:this.props.logout},r.createElement(Z.Z,null,r.createElement(v.Z,{fontSize:"small"})),"Sair"))))}}])&&A(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),U}(r.Component);const N=function(e){var t=(0,o.s0)(),n=(0,o.TH)();return r.createElement(U,_({navigate:t,location:n},e))};var D=n(2318),G=n(8619),q=n(2981),z=n(181),W=n(3508),X=n(594),Y=n(3975);function $(e){return $="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$(e)}function H(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==$(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==$(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===$(o)?o:String(o)),r)}var o}function V(e,t){return V=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},V(e,t)}function J(e){return J=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},J(e)}var K=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&V(e,t)}(l,e);var t,n,o,i,a=(o=l,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=J(o);if(i){var n=J(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===$(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function l(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),a.call(this,e)}return t=l,(n=[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this;return r.createElement("div",null,r.createElement(h.Z,{anchorReference:"anchorPosition",anchorPosition:{top:this.props.y,left:this.props.x},open:this.props.open,onClose:this.props.closeIframeContextMenu},this.props.iframe?r.createElement(Y.Z,{dense:!0},r.createElement(d.Z,{onClick:function(){window.open(e.props.iframe.iframe,"_blank"),e.props.closeIframeContextMenu()}},r.createElement(Z.Z,null,r.createElement(m.Z,null,"open_in_new")),r.createElement(O.Z,null,"Abrir em nova aba"))):""))}}])&&H(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),l}(r.Component);function Q(e){return Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Q(e)}function ee(){return ee=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ee.apply(this,arguments)}function te(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==Q(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==Q(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===Q(o)?o:String(o)),r)}var o}function ne(e,t){return ne=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ne(e,t)}function re(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oe(e){return oe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},oe(e)}var ie=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ne(e,t)}(u,e);var t,n,o,i,a=(o=u,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=oe(o);if(i){var n=oe(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Q(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return re(e)}(this,e)});function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=a.call(this,e)).state={iframeListOpen:!1,iframeContextMenuOpen:!1,iframeContextMenuIframe:null,iframeContextMenuX:0,iframeContextMenuY:0,usuarioModuleOpen:!1},t.handleIframeContextMenu=t.handleIframeContextMenu.bind(re(t)),t.closeIframeContextMenu=t.closeIframeContextMenu.bind(re(t)),t.openModulesByLocation=t.openModulesByLocation.bind(re(t)),t}return t=u,(n=[{key:"componentDidMount",value:function(){this.openModulesByLocation()}},{key:"componentDidUpdate",value:function(e,t){this.props.location!==e.location&&this.openModulesByLocation()}},{key:"openModulesByLocation",value:function(){this.props.location.pathname.startsWith("/i")&&this.setState({iframeListOpen:!0}),this.props.location.pathname.startsWith("/usuarios")&&this.setState({usuarioModuleOpen:!0})}},{key:"handleIframeContextMenu",value:function(e,t){t.preventDefault(),this.setState({iframeContextMenuIframe:e,iframeContextMenuOpen:!0,iframeContextMenuX:t.clientX,iframeContextMenuY:t.clientY})}},{key:"closeIframeContextMenu",value:function(){this.setState({iframeContextMenuOpen:!1})}},{key:"render",value:function(){var e=this;return r.createElement(r.Fragment,null,r.createElement(D.ZP,{variant:"persistent",anchor:"left",open:this.props.menuOpen,sx:{width:this.props.menuOpen?"350px":"0px",transition:"width 0.25s","& .MuiDivider-fullWidth":{display:"none"}},PaperProps:{sx:{position:"relative",backgroundColor:"rgba(0, 0, 0, 0.75)",border:"none"}}},r.createElement(l.Z,{sx:{minWidth:325},role:"presentation"},r.createElement(C.Z,null,r.createElement(P.ZP,{disablePadding:!0},r.createElement(G.Z,{onClick:function(){e.props.navigate("/")},selected:"/"==this.props.location.pathname},r.createElement(Z.Z,null,r.createElement(m.Z,null,"home")),r.createElement(O.Z,{primary:"Início"}))),null!==this.props.usuario?r.createElement(r.Fragment,null,this.props.usuario.permissaoList.includes("Iframe.Read.All")?r.createElement(r.Fragment,null,r.createElement(G.Z,{onClick:function(){return e.setState({iframeListOpen:!e.state.iframeListOpen})}},r.createElement(Z.Z,null,r.createElement(m.Z,null,"web")),r.createElement(O.Z,{primary:"Relatórios",sx:{wordBreak:"break-all"}}),this.state.iframeListOpen?r.createElement(z.Z,null):r.createElement(W.Z,null)),r.createElement(q.Z,{in:this.state.iframeListOpen,timeout:"auto",unmountOnExit:!0},r.createElement(C.Z,{component:"div",disablePadding:!0},null!==this.props.iframeCategoryList?this.props.iframeCategoryList.map((function(t){return r.createElement(C.Z,{key:t.iframeCategoryId,disablePadding:!0},r.createElement(G.Z,{onClick:function(){return e.props.toggleIframeCategory(t)},sx:{pl:3}},r.createElement(Z.Z,null,r.createElement(m.Z,null,t.icon)),r.createElement(O.Z,{primary:t.titulo,sx:{wordBreak:"break-all"}}),t.open?r.createElement(z.Z,null):r.createElement(W.Z,null)),r.createElement(q.Z,{in:t.open,timeout:"auto",unmountOnExit:!0},r.createElement(C.Z,{disablePadding:!0},t.iframeList.map((function(n){return n.novaGuia?r.createElement(P.ZP,{key:n.iframeId,disablePadding:!0},r.createElement(G.Z,{onClick:function(){return window.open(n.iframe,"_blank")},sx:{pl:4}},r.createElement(Z.Z,null,r.createElement(m.Z,{sx:{color:"red"}},n.icon)),r.createElement(O.Z,{primary:n.titulo,sx:{wordBreak:"break-all"}}),r.createElement(m.Z,null,"open_in_new"))):r.createElement(P.ZP,{key:n.iframeId,disablePadding:!0,onContextMenu:function(t){e.handleIframeContextMenu(n,t)},secondaryAction:n.open?r.createElement(y.Z,{title:"Fechar"},r.createElement(f.Z,{edge:"end","aria-label":"fechar",onClick:function(){return e.props.closeIframe(n,e.props.location.pathname=="/i/".concat(t.uri,"/").concat(n.uri))}},r.createElement(X.Z,null))):""},r.createElement(G.Z,{onClick:function(){e.props.navigate("i/".concat(t.uri,"/").concat(n.uri))},sx:{pl:4},selected:e.props.location.pathname=="/i/".concat(t.uri,"/").concat(n.uri)},r.createElement(Z.Z,null,r.createElement(m.Z,{sx:{color:"red"}},n.icon)),r.createElement(O.Z,{primary:n.titulo,sx:{wordBreak:"break-all"}})))})))))})):r.createElement(l.Z,{width:"100%",display:"flex",justifyContent:"center",m:3},r.createElement(g.Z,null))))):"",this.props.usuario.permissaoList.includes("Usuario.Read.All")?r.createElement(r.Fragment,null,r.createElement(G.Z,{onClick:function(){return e.setState({usuarioModuleOpen:!e.state.usuarioModuleOpen})}},r.createElement(Z.Z,null,r.createElement(m.Z,null,"person")),r.createElement(O.Z,{primary:"Usuários",sx:{wordBreak:"break-all"}}),this.state.usuarioModuleOpen?r.createElement(z.Z,null):r.createElement(W.Z,null)),r.createElement(q.Z,{in:this.state.usuarioModuleOpen},r.createElement(C.Z,{component:"div",disablePadding:!0},r.createElement(P.ZP,{disablePadding:!0},r.createElement(G.Z,{onClick:function(){e.props.navigate("usuarios")},sx:{pl:3},selected:"/usuarios"==this.props.location.pathname},r.createElement(Z.Z,null,r.createElement(m.Z,{sx:{color:"red"}},"people")),r.createElement(O.Z,{primary:"Usuários"}))),r.createElement(P.ZP,{disablePadding:!0},r.createElement(G.Z,{onClick:function(){e.props.navigate("usuarios/novo")},sx:{pl:3},selected:/^\/usuarios\/(\d|(novo))+$/.test(this.props.location.pathname)},r.createElement(Z.Z,null,r.createElement(m.Z,{sx:{color:"red"}},"person_add")),r.createElement(O.Z,{primary:"Novo Usuário"})))))):"",this.props.usuario.permissaoList.includes("Ponto.Read.All")?r.createElement(P.ZP,{disablePadding:!0},r.createElement(G.Z,{onClick:function(){e.props.navigate("/registro-ponto")},selected:"/registro-ponto"==this.props.location.pathname},r.createElement(Z.Z,null,r.createElement(m.Z,null,"fingerprint")),r.createElement(O.Z,{primary:"Registro Ponto"}))):""):r.createElement(l.Z,{width:"100%",display:"flex",justifyContent:"center",m:3},r.createElement(g.Z,null))))),r.createElement(K,{open:this.state.iframeContextMenuOpen,iframe:this.state.iframeContextMenuIframe,x:this.state.iframeContextMenuX,y:this.state.iframeContextMenuY,closeIframeContextMenu:this.closeIframeContextMenu}))}}])&&te(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),u}(r.Component);const ae=function(e){var t=(0,o.s0)(),n=(0,o.TH)();return r.createElement(ie,ee({navigate:t,location:n},e))};var le=n(4567);function ue(e){return ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ue(e)}function se(){return se=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},se.apply(this,arguments)}function ce(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function fe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==ue(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==ue(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===ue(o)?o:String(o)),r)}var o}function pe(e,t){return pe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},pe(e,t)}function me(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ye(e){return ye=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ye(e)}var he=r.lazy((function(){return n.e(807).then(n.bind(n,1807))})),de=r.lazy((function(){return Promise.all([n.e(148),n.e(282),n.e(355),n.e(540),n.e(648)]).then(n.bind(n,4648))})),be=r.lazy((function(){return Promise.all([n.e(148),n.e(282),n.e(355),n.e(676),n.e(255),n.e(286)]).then(n.bind(n,5286))})),ge=r.lazy((function(){return Promise.all([n.e(148),n.e(676),n.e(396)]).then(n.bind(n,9396))})),Ee=function(){var e=(0,o.UO)().usuarioId;return r.createElement(be,{key:e})},ve=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pe(e,t)}(f,e);var t,n,u,s,c=(u=f,s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ye(u);if(s){var n=ye(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===ue(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return me(e)}(this,e)});function f(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f),(t=c.call(this,e)).state={usuario:null,iframeCategoryList:null,iframeCategoryByPath:null,iframeByPath:null,fullscreen:!1,notificationsGranted:void 0,menuOpen:!0},t.getUsuarioFromApi=t.getUsuarioFromApi.bind(me(t)),t.getIframeCategoryListFromApi=t.getIframeCategoryListFromApi.bind(me(t)),t.logout=t.logout.bind(me(t)),t.toggleMenu=t.toggleMenu.bind(me(t)),t.openIframeByLocation=t.openIframeByLocation.bind(me(t)),t.toggleIframeCategory=t.toggleIframeCategory.bind(me(t)),t.closeIframe=t.closeIframe.bind(me(t)),t.toggleFullscreen=t.toggleFullscreen.bind(me(t)),t.fullScreenChanged=t.fullScreenChanged.bind(me(t)),t.getNotificationsStatus=t.getNotificationsStatus.bind(me(t)),t.requestNotificationsPermission=t.requestNotificationsPermission.bind(me(t)),t}return t=f,(n=[{key:"getUsuarioFromApi",value:function(){var e=this;i.Z.get("/usuario/me").then((function(t){e.setState({usuario:t.data}),t.data.permissaoList.includes("Iframe.Read.All")&&e.getIframeCategoryListFromApi()})).catch((function(t){setTimeout(e.getUsuarioFromApi,3e3)}))}},{key:"getIframeCategoryListFromApi",value:function(){var e=this;i.Z.get("/usuario/me/iframe-category").then((function(t){var n=t.data,r={},o={};n.forEach((function(e,t){e.open=!1,r[e.uri]=e,o[e.uri]={},e.iframeList.forEach((function(r,i){r.novaGuia||(r.open=!1,o[e.uri][r.uri]=n[t].iframeList[i])}))})),e.setState({iframeCategoryList:n,iframeCategoryByPath:r,iframeByPath:o},e.openIframeByLocation)})).catch((function(t){setTimeout(e.getIframeCategoryListFromApi,3e3)}))}},{key:"logout",value:function(){(0,a.gy)(),this.props.navigate("/login")}},{key:"componentDidMount",value:function(){this.getUsuarioFromApi(),document.body.onfullscreenchange=this.fullScreenChanged,this.getNotificationsStatus()}},{key:"componentDidUpdate",value:function(e,t){this.props.location!==e.location&&this.openIframeByLocation()}},{key:"openIframeByLocation",value:function(){var e=/^\/i\/(.+)\/(.+)$/.exec(this.props.location.pathname);null!==e&&3==e.length&&(e[1]in this.state.iframeByPath&&e[2]in this.state.iframeByPath[e[1]]?(this.state.iframeCategoryByPath[e[1]].open=!0,this.state.iframeByPath[e[1]][e[2]].open=!0,this.setState({iframeByPath:this.state.iframeByPath})):this.props.navigate("/"))}},{key:"toggleIframeCategory",value:function(e){e.open=!e.open,this.setState({ìframeCategoryList:this.state.iframeCategoryList})}},{key:"closeIframe",value:function(e,t){e.open=!1,t&&this.props.navigate("/"),this.setState({iframeCategoryList:this.state.iframeCategoryList})}},{key:"toggleMenu",value:function(){this.setState({menuOpen:!this.state.menuOpen})}},{key:"disableDefaultContextMenu",value:function(){document.addEventListener?document.addEventListener("contextmenu",(function(e){e.preventDefault()}),!1):document.attachEvent("oncontextmenu",(function(){window.event.returnValue=!1}))}},{key:"toggleFullscreen",value:function(){document.fullscreenElement?(document.exitFullscreen(),this.setState({fullscreen:!1})):(document.body.requestFullscreen({navigationUI:"hide"}),this.setState({fullscreen:!0}))}},{key:"fullScreenChanged",value:function(){this.setState({fullscreen:!!document.fullscreenElement})}},{key:"getNotificationsStatus",value:function(){"Notification"in window?"granted"===Notification.permission?this.setState({notificationsGranted:!0}):(Notification.permission,this.setState({notificationsGranted:!1})):this.setState({notificationsGranted:null})}},{key:"requestNotificationsPermission",value:function(){var e=this;Notification.requestPermission().then((function(t){"granted"===t?e.setState({notificationsGranted:!0}):e.setState({notificationsGranted:!1})}))}},{key:"render",value:function(){return r.createElement(r.Fragment,null,r.createElement(l.Z,{className:"painelBox",sx:{height:"100dvh"}},r.createElement(N,{usuario:this.state.usuario,usuarioFotoPerfil:this.state.usuarioFotoPerfil,toggleMenu:this.toggleMenu,logout:this.logout,fullscreen:this.state.fullscreen,toggleFullscreen:this.toggleFullscreen,notificationsGranted:this.state.notificationsGranted,requestNotificationsPermission:this.requestNotificationsPermission}),r.createElement(l.Z,{sx:{display:"flex",flexGrow:1,flexDirection:"row",overflow:"hidden"}},r.createElement(ae,{menuOpen:this.state.menuOpen,toggleMenu:this.toggleMenu,usuario:this.state.usuario,iframeCategoryList:this.state.iframeCategoryList,toggleIframeCategory:this.toggleIframeCategory,closeIframe:this.closeIframe}),r.createElement(l.Z,{sx:{flexGrow:1,height:"100%",overflow:"auto"}},r.createElement(r.Suspense,{fallback:r.createElement(le.Z,{sx:{color:"primary.main"},open:!0},r.createElement(g.Z,{color:"inherit"}))},null!==this.state.usuario&&this.state.usuario.permissaoList.includes("Iframe.Read.All")?r.createElement(he,{iframeCategoryList:this.state.iframeCategoryList}):"",r.createElement(o.Z5,null,r.createElement(o.AW,{path:"/",element:r.createElement(l.Z,null)}),null!==this.state.usuario&&this.state.usuario.permissaoList.includes("Usuario.Read.All")?r.createElement(o.AW,{path:"/usuarios/",element:r.createElement(de,{usuario:this.state.usuario})}):null,null!==this.state.usuario&&this.state.usuario.permissaoList.includes("Usuario.Read.All")?r.createElement(o.AW,{path:"/usuarios/:usuarioId",element:r.createElement(Ee,null)}):null,null!==this.state.usuario&&this.state.usuario.permissaoList.includes("Ponto.Read.All")?r.createElement(o.AW,{path:"/registro-ponto/",element:r.createElement(ge,{usuario:this.state.usuario})}):null))))))}}])&&fe(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),f}(r.Component);const Ze=function(e){var t,n,i=(0,o.s0)(),a=(0,o.TH)(),l=(t=(0,u.lr)(),n=1,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],u=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);u=!0);}catch(e){s=!0,o=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(t,n)||function(e,t){if(e){if("string"==typeof e)return ce(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ce(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0];return r.createElement(ve,se({navigate:i,location:a,searchParams:l},e))}},310:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(1257),o=n(9775),i=n(117),a=r.Z.create({baseURL:"https://unisystem.unicom.net.br:8001/api"});a.interceptors.request.use((function(e){var t=(0,o.LP)();return t&&(e.headers.Authorization="Bearer ".concat(t)),"redirect401"in e||(e.redirect401=!0),"redirect403"in e||(e.redirect403=!0),e}),(function(e){return Promise.reject(e)})),a.interceptors.response.use((function(e){return e}),(function(e){return console.log(e),401==e.response.status&&e.config.redirect401?((0,o.gy)(),i.Z.push("/login"),new Promise((function(){}))):403==e.response.status&&e.config.redirect403?(i.Z.push("/"),new Promise((function(){}))):Promise.reject(e)}));const l=a},9775:(e,t,n)=>{"use strict";n.d(t,{$D:()=>r,LP:()=>o,gy:()=>a,o4:()=>i});var r=function(){return null!=window.localStorage.getItem("token")},o=function(){return r()?window.localStorage.getItem("token"):""},i=function(e){window.localStorage.setItem("token",e)},a=function(){window.localStorage.removeItem("token")}}}]);